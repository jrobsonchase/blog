{% macro toc_children(children) %}
<ul class="section table-of-contents">
    {% for child in children %}
    <li>
        <a href="#{{ child.id | safe }}">{{ child.title }}</a>
        {% if child.children %}
        {{ self::toc_children(children=child.children) }}
        {% endif %}
    </li>
    {% endfor %}
</ul>
{% endmacro input %}